<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Full Stack Web Development</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header class="row">
      	<div class="col-lg-12">
          <a href="../../index.html"><img class="logo jumbotron img-responsive" src="../../images/udacity_FSWD_ND_logo.png"
               alt="udacity logo"></a>
      	</div>
      </header>

      <div class="return">
        <div class="row">
          <div class="col-md-12">
            <a href="../../templates/three.html"><span class="glyphicon glyphicon-circle-arrow-left" style="font-size:3rem;"></span></a>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="lesson-title">
            <h1> Creating Google Sign in </h1>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="lesson">
            <h4><a href="https://www.youtube.com/watch?v=Ck9upDLuG6A"> 1. Intro to Lesson 2 </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=wElq1B6zBx8"> 2. Types of Flow </a></h4>
              <ol style="list-style-type:square">
                <li><a href="https://aaronparecki.com/articles/2012/07/29/1/oauth2-simplified">OAuth Simplified</a></li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=3siZuYXipkE"> 3. Google+ Auth for server side apps </a></h4>
              <ol style="list-style-type:square">
                <li><a href="https://developers.google.com/identity/protocols/OAuth2">Google OAuth2 documentation</a></li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=yMEAJK5xZUk"> 4. Step 0 get initial app running </a></h4>
              <ol style="list-style-type:square">
                <li>Fork<a href="https://github.com/udacity/OAuth2.0"> oath </a>repo</li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=8aGoty0VXgw"> 5. Quiz: Step 1 Create Client ID & Secret </a></h4>
            <ol style="list-style-type:square">
              <li><h5> Update: </h5>
                  <p>
                      Google has changed the user interface for obtaining OAuth credentials since this video was created. The functionality is the same, but the appearance is somewhat different from what's depicted here.</br>

                    </br>1. Go to your app's <a href="https://console.developers.google.com/apis">page</a> in the Google APIs Console
                    </br>2. Choose Credentials from the menu on the left.
                    </br>3. Create an OAuth Client ID.
                    </br>4. This will require you to configure the consent screen, with the same choices as in the video.
                    </br>5. When you're presented with a list of application types, choose Web application.
                    </br>6. You can then set the authorized JavaScript origins, with the same settings as in the video.
                    </br>7. You will then be able to get the client ID and client secret.
                  </p>
              </li>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=mHRPfJulLbg"> 6. Quiz: Step 2 Create anti forgery state token </a></h4>
              <ol style="list-style-type:square">
                <li>
                  <p> Line 20 onwards of this <a href="https://github.com/udacity/ud330/blob/master/Lesson2/step2/project.py">project.py</a> file shows how our application can create an anti-forgery state token.
                  </p>
                </li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=NKUFDFRg1Lo"> 7. Quiz: Step 3 Create login page </a></h4>
              <ol style="list-style-type:square">
                <li>
                  <p> Line 18 should read <code>data-scope = "openid email"</code> in order to retrieve a user's email address.<br><br>

                      The <a href="https://github.com/udacity/ud330/blob/master/Lesson2/step3/templates/login.html">login.html</a> file for this exercise can be found on GitHub.
                  </p>
                </li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=Gq-LS8ykG7Y"> 8. Quiz: Step 4 Make a Callback method </a></h4>
              <ol style="list-style-type:square">
                <li>
                  <p> View the <a href="https://github.com/udacity/ud330/blob/master/Lesson2/step4/templates/login.html">login.html</a> page now with the added callback function.
                  </p>
                </li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=yJFGk8v_-8Y"> 9. Quiz: Step 5 GConnect </a></h4>
              <ol style="list-style-type:square">
                <li>
                  <p>The code from this video can be found <a href="https://github.com/udacity/ud330/blob/master/Lesson2/step5/project.py">here</a>.<br><br>

                    <strong>IMPORTANT:</strong> Depending on the version of Flask you have, you may or may not be able to store a credentials object in the <code>login_session</code> the same way that Lorenzo does. You may get the following error:<br><br>

                    OAuth2Credentials object is not JSON serializable<br><br>

                    What should you do to fix this? There are three options:<br><br>

                    1. Rather than storing the entire <code>credentials</code> object you can store just the access token instead. It can be accessed using <code>credentials.access_token</code>.<br>
                    2. The OAuth2Credentials class comes with methods that can help you. The <code>.to_json()</code> and <code>.from_json()</code> methods can help you store and retrieve the credentials object in json format.<br>
                    3. Update your versions of Flask, <strong><em>and</em></strong> to match Lorenzo's. Use the following commands:<br><br>
                    <code>pip install werkzeug==0.8.3</code><br>
                    <code>pip install flask==0.9</code><br>
                    <code>pip install Flask-Login==0.1.3</code><br><br>
                    <strong>Note:</strong> If you get a permissions error, you will need to include <code>sudo</code> at the beginning of each command. That should look like this: <code>sudo pip install flask==0.9</code><br>

                    Go to the GoogleDevConsole> API & Auth> Credentials>Select your app> Authorized Redirect URIs and add the following URIS: <a href="http://localhost:5000/login">http://localhost:5000/login</a> and <a href="http://localhost:5000/gconnect">http://localhost:5000/gconnect</a> You may have to change the port number depending on the port number you have set your app to run on.

                    <br><br>Example <a href="https://github.com/udacity/ud330/blob/master/Lesson2/step5/project.py">code</a>

                  </p>
                </li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=V79rAhffPA4"> 10. Quiz: Step 6 Disconnet </a></h4>
              <ol style="list-style-type:square">
                <li>
                  <p> The code for this video can be found <a href="https://github.com/udacity/ud330/blob/master/Lesson2/step6/project.py">here</a>
                  </p>
                </li>
              </ol>
            <h4><a href="https://www.youtube.com/watch?v=ghedDtyBmaQ"> 11. Quiz: Step 7 Protecting Pages </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=Fpa_jG-yYbs"> 12. Wrap-up </a></h4>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <hr class="horizontal-line">
        </div>
      </div>

      <!-- <footer class="footer">
        <div class="row col-md-12">
            <p><span class="glyphicon glyphicon-chevron-left"></span>
               <span class="glyphicon glyphicon-chevron-right"></span> with
               <span class="glyphicon glyphicon-heart"></span> by Kenny Iraheta
            </p>
        </div>
      </footer> -->

    </div>
  </body>
</html>
