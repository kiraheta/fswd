<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Full Stack Web Development</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header class="row">
      	<div class="col-lg-12">
          <a href="../index.html"><img class="logo jumbotron img-responsive" src="../images/udacity_FSWD_ND_logo.png"
               alt="udacity logo"></a>
      	</div>
      </header>

      <div class="return">
        <div class="row">
          <div class="col-md-12">
            <a href="../templates/three.html"><span class="glyphicon glyphicon-circle-arrow-left" style="font-size:3rem;"></span></a>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="lesson-title">
            <h1> Working with CRUD </h1>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <div class="lesson">
            <h4><a href="https://www.youtube.com/watch?v=S86QnrME6Fs"> 1. Course Intro </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=VZ_7unOXKrA"> 2. Prerequisites & Preparation </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=NEiyC6bt8_s"> 3. Project Intro - CRUD </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=cflZPXSEwNc"> 4. Quiz: CRUD Review 1 </a></h4>
            <ol style="list-style-type:square">
              <li><a href="https://www.youtube.com/watch?v=5u2QP6VHNgE">Solution</a>.
              </li>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=e4rmlGgXVxA"> 5. Quiz: CRUD Review 2</a></h4>
            <ol style="list-style-type:square">
              <li><a href="https://www.youtube.com/watch?v=CO-WT6rx6Vk">Solution</a>.
              </li>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=xCytuNlmc4Y"> 6. Quiz: CRUD Review 3</a></h4>
            <ol style="list-style-type:square">
              <li><a href="https://www.youtube.com/watch?v=80EJhK4hEd0">Solution</a>.
              </li>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=D5HySAocotE"> 7. Quiz: CRUD Review 4</a></h4>
            <ol style="list-style-type:square">
              <li><a href="https://www.youtube.com/watch?v=yni1RvH0Ymg">Solution</a>.
              </li>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=xaBvsLjmztg"> 8. SQL </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=owhwE4Gglo0"> 9. Quiz: SQL Quiz Select </a></h4>
            <ol style="list-style-type:square">
              <li><a href="https://www.youtube.com/watch?v=3kfRE28Agsc">Solution</a>.
              </li>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=n9PSPjXLnmQ"> 10. Quiz: SQL Quiz Insert Into</a></h4>
            <h4><a href="https://www.youtube.com/watch?v=kDGx5M_5C8w"> 11. Quiz: SQL Quiz Update</a></h4>
            <h4><a href="https://www.youtube.com/watch?v=EEP3IpUMjSw"> 12. Quiz: SQL Quiz Delete</a></h4>
            <h4><a href="https://www.youtube.com/watch?v=wv47Qd6CERE"> 13. Creating A Database And ORMs </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=R6dxYtXwT9w"> 14. Introducing SQLAlchemy </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=lbeF6Idzcko"> 15. Creating A Database - Configuration </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=44DIEewnN2Q"> 16. Creating A Database - Class And Table </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=U0kQc6j4Bag"> 17. Creating A Database - Mapper </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=5q4mJVd5tUY"> 18. Putting It All Together </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=kREi36Pibec"> 19. Quiz: Database Setup Quiz Part 1 </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=qyIYdZWYmtk"> 20. Quiz: Database Setup Quiz Part 2 </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=xY-nhvEvyT0"> 21. CRUD Create </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=Bp_-iwNtTN8"> 22. Quiz: CRUD Create Quiz </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=yAQNVmeE1wM"> 23. CRUD Read</a></h4>
            <h4><a href="https://www.youtube.com/watch?v=drGtnZuy0JE"> 24. Quiz: CRUD Read Quiz </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=a00AK-WMB2E"> 25. CRUD Update </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=ZlBksrJ-eDc"> 26. Quiz: CRUD Update Quiz </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=mr449Ym3VcA"> 27. CRUD Delete </a></h4>
            <h4><a href="https://www.youtube.com/watch?v=bQtWlxf2jpo"> 28. Quiz: CRUD Delete Quiz </a></h4>
            <h4><a href=""> 29. CRUD Review</a></h4>
            <ol style="list-style-type:square">
              <li><strong>Operations with SQLAlchemy</strong></li>
              <p>
                In this lesson, we performed all of our CRUD operations with
                SQLAlchemy on an SQLite database. Before we perform any operations,
                we must first import the necessary libraries, connect to our
                restaurantMenu.db, and create a session to interface with the
                database:<br><br>

                <code>
                  from sqlalchemy import create_engine<br>
                  from sqlalchemy.orm import sessionmaker<br>
                  from database_setup import Base, Restaurant, MenuItem<br><br>

                  engine = create_engine('sqlite:///restaurantMenu.db')<br>
                  Base.metadata.bind=engine<br>
                  DBSession = sessionmaker(bind = engine)<br>
                  session = DBSession()<br>
                </code>

              </p>
              <li><strong>CREATE</strong></li>
              <p>
                We created a new Restaurant and called it Pizza Palace:<br><br>
                <code>
                myFirstRestaurant = Restaurant(name = "Pizza Palace")<br>
                session.add(myFirstRestaurant)<br>
                sesssion.commit()<br><br>
                </code>
                We created a cheese pizza menu item and added it to the Pizza Palace Menu:<br><br>
                <code>
                cheesepizza = menuItem(name="Cheese Pizza", <br>
                              description = "Made with all natural ingredients<br>
                              and fresh mozzarella", course="Entree",<br>
                              price="$8.99", restaurant=myFirstRestaurant)<br>
                session.add(cheesepizza)<br>
                session.commit()<br><br>
              </code>

                # READ We read out information in our database using the query method in SQLAlchemy:<br><br>
                <code>
                firstResult = session.query(Restaurant).first()<br>
                firstResult.name<br><br>

                items = session.query(MenuItem).all()<br>
                for item in items:<br>
                    print item.name
                </code><br><br>

                <li><strong>UPDATE</strong></li>
                In order to update and existing entry in our database, we must execute the following commands:<br><br>
                <code>
                Find Entry<br>
                Reset value(s)<br>
                Add to session<br>
                Execute session.commit()
                </code><br><br>
                We found the veggie burger that belonged to the Urban Burger
                restaurant by executing the following query:<br><br>
                <code>
                veggieBurgers = session.query(MenuItem).filter_by(<br>
                                name= 'Veggie Burger')<br>
                for veggieBurger in veggieBurgers:<br>
                    print veggieBurger.id<br>
                    print veggieBurger.price<br>
                    print veggieBurger.restaurant.name<br>
                    print "\n"
                </code><br><br>
                Then we updated the price of the veggie burger to $2.99:<br><br>
                <code>
                UrbanVeggieBurger = session.query(MenuItem).filter_by(id=8).one()<br>
                UrbanVeggieBurger.price = '$2.99'<br>
                session.add(UrbanVeggieBurger)<br>
                session.commit()
                </code><br><br>
                <li><strong>DELETE</strong></li>
                To delete an item from our database we must follow the following steps:<br><br>
                <code>
                Find the entry<br>
                Session.delete(Entry)<br>
                Session.commit()
                </code><br><br>
                We deleted spinach Ice Cream from our Menu Items database with
                the following operations:<br><br>
                <code>
                spinach = session.query(MenuItem).filter_by(<br>
                name = 'Spinach Ice Cream').one()<br>
                session.delete(spinach)<br>
                session.commit()
                </code><br><br>
              </p>
            </ol>
            <h4><a href="https://www.youtube.com/watch?v=xu8AUUdd4kk"> 30. Wrap Up </a></h4>
          </div>
        </div>
      <div class="row">
        <div class="col-md-12">
          <hr class="horizontal-line">
        </div>
      </div>

      <!-- <footer class="footer">
        <div class="row col-md-12">
            <p><span class="glyphicon glyphicon-chevron-left"></span>
               <span class="glyphicon glyphicon-chevron-right"></span> with
               <span class="glyphicon glyphicon-heart"></span> by Kenny Iraheta
            </p>
        </div>
      </footer> -->

    </div>
  </body>
</html>
